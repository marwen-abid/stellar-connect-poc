> [!WARNING]  
> This is a POC for an Anchor SDK generated by Robots ğŸ¤–. Not for use in a production setting. 


# Stellar Connect

TypeScript monorepo for Stellar anchor infrastructure. Build compliant anchor services and client integrations with minimal boilerplate.

## Packages

| Package                                       | Description                                                  | Docs                                 |
| --------------------------------------------- | ------------------------------------------------------------ | ------------------------------------ |
| [`@stellarconnect/anchor`](packages/anchor)   | Anchor server framework â€” SEP-1, SEP-6, SEP-10, SEP-24       | [README](packages/anchor/README.md)  |
| [`@stellarconnect/sdk`](packages/sdk)         | Client SDK â€” discovery, auth, deposits, withdrawals, polling | [README](packages/sdk/README.md)     |
| [`@stellarconnect/core`](packages/core)       | Core primitives â€” Signer, NetworkClient, TomlDiscovery, XDR  | [README](packages/core/README.md)    |
| [`@stellarconnect/signers`](packages/signers) | Signer utilities â€” keypairSigner, callbackSigner             | [README](packages/signers/README.md) |

## Quick Start

Stand up a SEP-compliant anchor server in ~40 lines:

```bash
pnpm add @stellarconnect/anchor
pnpm add express cors @stellar/stellar-sdk   # peer dependencies
```

```typescript
import express from 'express';
import cors from 'cors';
import { AnchorServer } from '@stellarconnect/anchor';

const anchor = new AnchorServer({
  secretKey: process.env.STELLAR_SIGNING_KEY!,
  jwtSecret: process.env.JWT_SECRET!,
  domain: 'localhost:8000',
  network: 'testnet',
  assets: {
    native: {
      deposit: { enabled: true, minAmount: 1, maxAmount: 10000 },
      withdraw: { enabled: true, minAmount: 1, maxAmount: 10000 },
    },
  },
});

const app = express();
app.use(cors({ origin: '*' }));
app.use(express.json());

app.use(anchor.toml()); // SEP-1: /.well-known/stellar.toml
app.use('/auth', anchor.sep10()); // SEP-10: Web Authentication
app.use('/sep24', anchor.sep24({ interactive: { url: 'http://localhost:8000/interactive-flow' } })); // SEP-24
app.use('/', anchor.sep24({ interactive: { url: 'http://localhost:8000/interactive-flow' } })); // SEP-24 pages

app.listen(8000, () => console.log('Anchor running on http://localhost:8000'));
```

See the [example anchor server](examples/anchor-server) for a working reference.

## Repository Structure

```
stellar-connect/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ core/          @stellarconnect/core
â”‚   â”œâ”€â”€ anchor/        @stellarconnect/anchor
â”‚   â”œâ”€â”€ sdk/           @stellarconnect/sdk
â”‚   â””â”€â”€ signers/       @stellarconnect/signers
â”œâ”€â”€ examples/
â”‚   â””â”€â”€ anchor-server/ Working anchor server example
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ tsconfig.json
â””â”€â”€ package.json
```

## Development

### Prerequisites

- Node.js 18+
- pnpm 10+

### Setup

```bash
pnpm install
pnpm build
```

### Commands

| Command          | Description                                 |
| ---------------- | ------------------------------------------- |
| `pnpm build`     | Build all packages                          |
| `pnpm test`      | Run all tests (199 tests across 4 packages) |
| `pnpm typecheck` | Type-check without emitting                 |
| `pnpm lint`      | Lint all packages                           |
| `pnpm format`    | Format with Prettier                        |
| `pnpm clean`     | Remove all build artifacts and node_modules |

### Tests

```bash
pnpm test
```

| Package | Tests |
| ------- | ----- |
| core    | 70    |
| anchor  | 108   |
| sdk     | 11    |
| signers | 11    |

### Compliance Testing

Validate your anchor against the official [Stellar Anchor Tests](https://github.com/stellar/stellar-anchor-tests) suite:

```bash
# Start the example server
cd examples/anchor-server
STELLAR_SIGNING_KEY=SBRVW5MTD2FGEQMYG77CAB5LYDVVNY7UOUOC2WUGPLUMRB5VJ27MSL2K \
JWT_SECRET=test-secret-key-minimum-32-characters-required-for-security \
PORT=8000 node dist/index.js

# Run compliance tests (in another terminal)
docker run --network host stellar/anchor-tests:latest \
  --home-domain http://localhost:8000 --seps 1 10 24
```

Expected: 55/55 tests pass.

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Client App                    â”‚
â”‚         @stellarconnect/sdk                  â”‚
â”‚   discovery Â· auth Â· deposits Â· polling      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             @stellarconnect/signers          â”‚
â”‚        keypairSigner Â· callbackSigner        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              @stellarconnect/core            â”‚
â”‚   Signer Â· NetworkClient Â· TomlDiscovery     â”‚
â”‚   AccountInspector Â· XDR Â· Crypto            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Anchor Server                   â”‚
â”‚         @stellarconnect/anchor               â”‚
â”‚  AnchorServer Â· SEP-1 Â· SEP-6 Â· SEP-10 Â·   â”‚
â”‚  SEP-24 Â· TransferStore Â· Hooks             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              @stellarconnect/core            â”‚
â”‚        Signer Â· Crypto Â· XDR                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **anchor** depends on **core** â€” server-side framework
- **sdk** depends on **core** â€” client-side SDK
- **signers** depends on **core** â€” signer implementations
- **core** has no internal dependencies â€” foundational primitives

## Tech Stack

- TypeScript 5.3+ (ESM only)
- Express 4.x (anchor peer dependency)
- `@stellar/stellar-sdk` ^12.0.0
- Vitest (testing)
- pnpm workspaces (monorepo)

## License

MIT
